<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="style.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">AD-Übungen Woche 10</h1>
<p class="author">Patrick Bucher</p>
<p class="date">09.05.2017</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#performance-messungen-an-mergesort">1 Performance-Messungen an Mergesort</a></li>
<li><a href="#quicksort-parallelisieren">2 Quicksort parallelisieren</a></li>
<li><a href="#fibonacci-zahlen">3 Fibonacci-Zahlen</a></li>
<li><a href="#finde-das-file">4 Finde das File</a></li>
<li><a href="#optional-türme-von-hanoi">5 Optional: Türme von Hanoi</a></li>
</ul>
</nav>
<h1 id="performance-messungen-an-mergesort">1 Performance-Messungen an Mergesort</h1>
<p>Mit den Threshold-Werten 10, 25, 33, 50, 66, 75, 100 und 250 erhalte ich für eine Sortierung eines <code>int</code>-Arrays mit 100 Millionen Elemente folgende Laufzeiten:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Threshold</th>
<th style="text-align: right;">Duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">8372</td>
</tr>
<tr class="even">
<td style="text-align: right;">25</td>
<td style="text-align: right;">8054</td>
</tr>
<tr class="odd">
<td style="text-align: right;">33</td>
<td style="text-align: right;">8224</td>
</tr>
<tr class="even">
<td style="text-align: right;">50</td>
<td style="text-align: right;">8124</td>
</tr>
<tr class="odd">
<td style="text-align: right;">66</td>
<td style="text-align: right;">7997</td>
</tr>
<tr class="even">
<td style="text-align: right;">75</td>
<td style="text-align: right;">8065</td>
</tr>
<tr class="odd">
<td style="text-align: right;">100</td>
<td style="text-align: right;">8471</td>
</tr>
<tr class="even">
<td style="text-align: right;">250</td>
<td style="text-align: right;">9052</td>
</tr>
</tbody>
</table>
<p>Sinnvolle Threshold-Werte scheinen im Bereich zwischen 25 bis 75 zu liegen. Für kleinere Werte dürfte der Overhead der Parallelisierung zu gross ausfallen. Für grössere Werte fällt die Langsamkeit des langsameren Insertion-Sort ins Gewicht.</p>
<h1 id="quicksort-parallelisieren">2 Quicksort parallelisieren</h1>
<p>Ich verwende wiederum die Threshold-Werte 10, 25, 33, 50, 66, 75, 100, 250 um <code>int</code>-Arrays mit 100 Millionen Elemente zu sortieren. Dabei erhalte ich folgende Laufzeiten:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Threshold</th>
<th style="text-align: right;">Duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">6987</td>
</tr>
<tr class="even">
<td style="text-align: right;">25</td>
<td style="text-align: right;">6290</td>
</tr>
<tr class="odd">
<td style="text-align: right;">33</td>
<td style="text-align: right;">6313</td>
</tr>
<tr class="even">
<td style="text-align: right;">50</td>
<td style="text-align: right;">5636</td>
</tr>
<tr class="odd">
<td style="text-align: right;">66</td>
<td style="text-align: right;">5863</td>
</tr>
<tr class="even">
<td style="text-align: right;">75</td>
<td style="text-align: right;">6191</td>
</tr>
<tr class="odd">
<td style="text-align: right;">100</td>
<td style="text-align: right;">6231</td>
</tr>
<tr class="even">
<td style="text-align: right;">250</td>
<td style="text-align: right;">5722</td>
</tr>
</tbody>
</table>
<p>Aufgrund dieser Messung entscheide ich mich für den Threshold-Wert 50 für meinen Quick-Sort, um ihn gegen <code>Arrays.sort</code> antreten zu lassen. Dabei komme ich auf folgende Laufzeiten:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Items</th>
<th style="text-align: right;">Arrays.sort</th>
<th style="text-align: right;">QuickSort</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1M</td>
<td style="text-align: right;">200</td>
<td style="text-align: right;">220</td>
</tr>
<tr class="even">
<td style="text-align: right;">2M</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">117</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5M</td>
<td style="text-align: right;">471</td>
<td style="text-align: right;">267</td>
</tr>
<tr class="even">
<td style="text-align: right;">10M</td>
<td style="text-align: right;">1055</td>
<td style="text-align: right;">598</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20M</td>
<td style="text-align: right;">2054</td>
<td style="text-align: right;">1149</td>
</tr>
<tr class="even">
<td style="text-align: right;">50M</td>
<td style="text-align: right;">5458</td>
<td style="text-align: right;">2991</td>
</tr>
<tr class="odd">
<td style="text-align: right;">100M</td>
<td style="text-align: right;">11266</td>
<td style="text-align: right;">6961</td>
</tr>
</tbody>
</table>
<p>Der Quick-Sort läuft ungefähr doppelt so schnell wie <code>Arrays.sort</code>. Da mein Rechner über 4 Cores verfügt, sollte der Faktor theoretisch 4 betragen. Das ist aufgrund folgender Gründe nicht der Fall:</p>
<ul>
<li>Quick-Sort verwendet <code>Arrays.sort</code> für kleinere n</li>
<li>Speicher und Caches werden von den Cores gemeinsam verwendet</li>
<li>Die Parallelisierung verursacht einen Overhead</li>
</ul>
<h1 id="fibonacci-zahlen">3 Fibonacci-Zahlen</h1>
<p>Die rekursive Lösung wird ab der 35. Fibonacci-Zahl richtig. Die nebenläufige (rekursive) Lösung ist überraschenderweise noch langsamer; der Overhead scheint hier grösser zu sein als der Zugewinn durch die Parallelisierung. Die iterative Lösung ist die schnellste.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">nth Fib</th>
<th style="text-align: right;">recursively</th>
<th style="text-align: right;">concurrently</th>
<th style="text-align: right;">iteratively</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">22</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">23</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">24</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">25</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">26</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">27</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">28</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">29</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">30</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">31</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">32</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">143</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">33</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">265</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">34</td>
<td style="text-align: right;">139</td>
<td style="text-align: right;">389</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35</td>
<td style="text-align: right;">222</td>
<td style="text-align: right;">625</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">36</td>
<td style="text-align: right;">353</td>
<td style="text-align: right;">894</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">37</td>
<td style="text-align: right;">564</td>
<td style="text-align: right;">1507</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">38</td>
<td style="text-align: right;">922</td>
<td style="text-align: right;">2429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">39</td>
<td style="text-align: right;">1563</td>
<td style="text-align: right;">3882</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">2479</td>
<td style="text-align: right;">7450</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: right;">3970</td>
<td style="text-align: right;">11105</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">42</td>
<td style="text-align: right;">6393</td>
<td style="text-align: right;">16265</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<h1 id="finde-das-file">4 Finde das File</h1>
<p>TODO</p>
<h1 id="optional-türme-von-hanoi">5 Optional: Türme von Hanoi</h1>
<p>TODO</p>
</body>
</html>
